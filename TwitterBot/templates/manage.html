<div class="row">
    <div class="col-md-12 mb-3">
        <h2 class="mb-3">Add new account</h2>
        <p class="mb-3">
            Add a new Twitter account to allow other users to request to post to the account, pending your approval.
            Nothing will be posted to this account without your consent, and you can remove the
            account at any time either in this app or via your Twitter application permissions. If you are
            currently logged into Twitter, that account will automatically be authenticated.
            Log out of Twitter or sign into a different account to add a different handle.
        </p>

        <button class="btn btn-light" ng-click="twitterSignIn()">
            <i class="fab fa-twitter fa-md twitter"></i> Sign in with Twitter
        </button>
    </div>
</div>

<div class="row">
    <div class="col-md-6 mb-3">
        <h2 class="mb-3">Your Twitter accounts</h2>
        <p class="mb-3">
            These are your current Twitter accounts registered within this application. Click <b>Settings</b> next to
            each handle to edit account settings. Configurable settings include enabling/disabling automated mention
            retweets, and account deletion.
        </p>

        <div class="list-group">
            <div ng-repeat="x in handles" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between align-items-center">
                    <h5 class="my-auto handles">{{x.handle}}</h5>
                    <button class="btn btn-primary btn-sm my-auto" ng-click="expandSettings($index)" ng-hide="x.settings">Settings</button>
                </div>
                <div class="settings-pane mt-3" ng-show="x.settings">

                    <div class="d-flex w-100 justify-content-between mb-3">
                        <p class="my-auto">Delete account</p>
                        <button type="button" class="btn btn-danger btn-sm my-auto" ng-click="deleteAccount(x.handle, $index)">Delete</button>
                    </div>

                    <div class="d-flex w-100 justify-content-between mb-3">
                        <p class="my-auto">Enable automatic @mention retweets</p>
                        <i class="fas fa-toggle-on fa-2x" ng-click="disableAutoTweets(x.handle, $index)" ng-show="x.retweet" style="vertical-align: middle;"></i>
                        <i class="fas fa-toggle-off fa-2x" ng-click="enableAutoTweets(x.handle, $index)" ng-show="!x.retweet" style="vertical-align: middle;"></i>
                    </div>

                    <div class="d-flex justify-content-end mt-3">
                        <i class="fas fa-compress fa-lg" ng-click="hideSettings($index)"></i>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-3">
        <h2 class="mb-3">Your Tweet queue</h2>
        <p class="mb-3">
            These are all current Tweets that users have requested to post to any of your configured Twitter accounts.
            Approve the request to post the Tweet at the scheduled time. You can cancel your approval
            up until the scheduled post time.
        </p>

        <div class="list-group">
            <div ng-repeat="tweet in tweetQueue" class="list-group-item list-group-item-action flex-column align-items-start">
                <div class="d-flex w-100 justify-content-between align-items-center">
                    <h5 class="handles">{{tweet.TwitterHandle}}</h5>
                    <small>{{tweet.CreatedTime}}</small>
                </div>
                <p class="mb-1 wrapped">{{tweet.StatusBody}}</p>
                <div class="d-flex w-100 justify-content-between mt-2 mb-3">
                    <span>
                        <i class="far fa-clock fa-sm" style="vertical-align: middle;"></i>
                        <small class="my-auto">{{tweet.ScheduledStatusTime}}</small>
                    </span>
                    <span>
                        <i class="fas fa-user fa-sm" style="vertical-align: middle;"></i>
                        <small class="my-auto">{{tweet.TweetUser}}</small>
                    </span>
                </div>
                <div class="mt-3">
                    <span>
                        <button ng-show="!tweet.IsApprovedByHandle" type="button" class="btn btn-primary btn-sm" ng-click="approveTweet(tweet.Id, $index)">Approve</button>
                        <button ng-show="tweet.IsApprovedByHandle" type="button" class="btn btn-primary btn-sm" ng-click="cancelTweet(tweet.Id, $index)">Cancel</button>

                        <i ng-show="!tweet.IsApprovedByHandle" class="fas fa-times-circle fa-lg" style="vertical-align: middle;"></i>
                        <i ng-show="tweet.IsApprovedByHandle" class="fas fa-check fa-lg" style="vertical-align: middle;"></i>
                    </span>
                </div>
                <div class="mt-2">
                    <i ng-show="tweet.IsPostedByWebJob" class="fab fa-twitter-square fa-lg" style="vertical-align: middle;"></i>
                </div>
            </div>
        </div>
    </div>
</div>